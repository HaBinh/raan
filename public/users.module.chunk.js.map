{"version":3,"sources":["/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index.ts","/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index/index.component.css","/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index/index.component.html","/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index/index.component.ts","/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/user.model.ts","/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/users.module.ts","/media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/users.routing.ts"],"names":[],"mappings":"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","file":"users.module.chunk.js","sourcesContent":["import { User } from './user.model';\nimport { UsersService } from './users.service';\n\nexport { User } from './user.model';\nexport { UsersService } from './users.service';\n\n\n\n// WEBPACK FOOTER //\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index/index.component.css\n// module id = ../../../../../src/app/users/index/index.component.css\n// module chunks = users.module","module.exports = \"<div id=\\\"main-product\\\" class=\\\"col-md-12\\\">\\n  <page-header\\n    [title]=\\\"'user-management.title' | translate\\\"\\n    [smallTitle]=\\\"'user-management.small-title' | translate\\\">\\n\\n  </page-header>\\n\\n  <div\\n    *ngIf=\\\"showAlert\\\"\\n    class=\\\"alert alert-block alert-success\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"alert\\\" (click)=\\\"showAlert=false\\\">\\n      <i class=\\\"ace-icon fa fa-times\\\"></i>\\n    </button>\\n\\n    <p><i class=\\\"ace-icon fa fa-check\\\"></i>{{ 'user-management.instruc1' | translate}}</p>\\n    {{ 'Table.email' | translate }}: {{emailJustAdded}}<br>\\n    {{ 'Table.password' | translate }}: {{passwordJustAdded}}\\n    <p><strong>{{ 'user-management.instruc2' | translate}}</strong> {{ 'user-management.instruc3' | translate}}</p>\\n  </div>\\n\\n  <div class=\\\"tableTools-container\\\">\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary create-product\\\" (click)=\\\"modal.open()\\\">{{ 'user-management.modal-title' | translate}}</button>\\n  </div>\\n  <div>\\n\\n\\n    <table datatable [dtOptions]=\\\"dtOptions\\\" [dtTrigger]=\\\"dtTrigger\\\"\\n          id=\\\"dynamic-table_wrapper\\\"\\n          class=\\\"table table-striped table-bordered\\n          table-hover dataTable no-footer\\\" cellspacing=\\\"0\\\" width=\\\"100%\\\">\\n      <thead>\\n        <tr>\\n          <th><i class=\\\"ace-icon fa fa-user\\\"></i>{{ 'Table.user' | translate }}</th>\\n          <th><i>@</i> {{ 'Table.email' | translate }}</th>\\n          <th><i class=\\\"ace-icon fa fa-id-card-o\\\"></i> {{ 'Table.role' | translate }}</th>\\n          <!-- <th>{{ 'Products.THead.DefaultImportedPrice' | translate }}</th> -->\\n          <!-- <th>{{ 'Products.THead.DefaultSalePrice' | translate }}</th> -->\\n          <th class=\\\"sorting_disabled\\\"></th>\\n        </tr>\\n      </thead>\\n\\n      <tbody>\\n        <tr *ngFor=\\\"let user of users\\\">\\n          <td>{{ user.name }}</td>\\n          <td>{{ user.email }}</td>\\n          <td>\\n            <ng-container *ngIf=\\\"user.role==='manager'\\\">\\n              <span class=\\\"label label-info arrowed-in arrowed-in-right\\\">\\n                {{ 'user-management.manager' | translate }}\\n              </span>\\n            </ng-container>\\n            <ng-container *ngIf=\\\"user.role!=='manager'\\\">\\n              <span class=\\\"label label-yellow arrowed-in\\\">\\n                {{ 'user-management.staff' | translate }}\\n              </span>\\n            </ng-container>\\n          </td>\\n\\n          <td>\\n            <button class=\\\"btn btn-xs btn-info\\\" tooltip=\\\"{{ 'tooltip.edit' | translate }}\\\" (click)=\\\"selectUpdate(user.id)\\\">\\n              <i class=\\\"ace-icon fa fa-pencil bigger-120\\\"></i>\\n            </button>\\n            <button *ngIf=\\\"user.active==true\\\"class=\\\"btn btn-xs btn-danger\\\" tooltip=\\\"{{ 'tooltip.delete' | translate }}\\\" (click)=\\\"openModalRemoveAccount(user.id)\\\">\\n              <i class=\\\"ace-icon fa fa-trash-o bigger-120\\\"></i>\\n            </button>\\n\\n            <button *ngIf=\\\"user.active==false\\\" class=\\\"btn btn-xs btn-warning\\\" tooltip=\\\"{{ 'tooltip.reactive' | translate }}\\\" (click)=\\\"reactiveAccount(user.id)\\\">\\n              <i class=\\\"ace-icon fa fa-undo bigger-120\\\"></i>\\n            </button>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </div>\\n</div>\\n\\n<modal #modal>\\n  <modal-header [show-close]=\\\"true\\\">\\n    <h4 class=\\\"modal-title\\\">{{ 'user-management.modal-update-title' | translate}}</h4>\\n  </modal-header>\\n  <modal-body>\\n    <app-input-field [attribute]=\\\"'Table.name' | translate\\\" [control]=\\\"form.get('name')\\\">\\n    </app-input-field>\\n\\n    <app-input-field [attribute]=\\\"'Table.email' | translate\\\" [control]=\\\"form.get('email')\\\">\\n    </app-input-field>\\n\\n    <app-input-field [attribute]=\\\"'Table.password' | translate\\\" [control]=\\\"form.get('password')\\\" [type]=\\\"'password'\\\">\\n    </app-input-field>\\n\\n    <app-input-field [attribute]=\\\"'Table.passwordConfirmation' | translate\\\" [control]=\\\"form.get('password_confirmation')\\\" [type]=\\\"'password'\\\">\\n    </app-input-field>\\n    <app-error-label [control]=\\\"form\\\"></app-error-label>\\n\\n    <div class=\\\"control-group\\\">\\n      <label for=\\\"\\\">{{ 'Table.role' | translate }}</label>\\n      <!-- choose manager -->\\n      <div class=\\\"radio\\\">\\n        <label>\\n          <input type=\\\"radio\\\" class=\\\"ace\\\" name=\\\"form-field-radio\\\" [value]=\\\"true\\\" [(ngModel)]=\\\"role\\\">\\n          <span class=\\\"lbl\\\">\\n            {{ 'user-management.manager' | translate }}\\n          </span>\\n        </label>\\n      </div>\\n      <!-- Choose staff -->\\n      <div class=\\\"radio\\\">\\n        <label>\\n          <input type=\\\"radio\\\" class=\\\"ace\\\" name=\\\"form-field-radio\\\" [value]=\\\"false\\\" [(ngModel)]=\\\"role\\\">\\n          <span class=\\\"lbl\\\">\\n             {{ 'user-management.staff' | translate }}\\n          </span>\\n        </label>\\n      </div>\\n\\n    </div>\\n\\n  </modal-body>\\n  <modal-footer>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"modal.dismiss()\\\">{{ 'Products.Modal.Cancel' | translate }}</button>\\n    <button id=\\\"btn-create-user\\\" class=\\\"btn btn-primary add-product\\\" (click)=\\\"addUser(form.value)\\\" [disabled]=\\\"form.invalid\\\">{{ 'button.create' | translate }}</button>\\n  </modal-footer>\\n</modal>\\n\\n<modal #modalUpdate>\\n  <modal-header [show-close]=\\\"true\\\">\\n    <h4 class=\\\"modal-title\\\">{{ 'user-management.modal-update-title' | translate}}</h4>\\n  </modal-header>\\n  <modal-body>\\n    <app-input-field [attribute]=\\\"'Table.name' | translate\\\" [control]=\\\"updateForm.get('name')\\\">\\n    </app-input-field>\\n\\n    <div class=\\\"control-group\\\">\\n      <label for=\\\"\\\">{{ 'Table.role' | translate }}</label>\\n      <!-- choose manager -->\\n      <div class=\\\"radio\\\">\\n        <label>\\n          <input type=\\\"radio\\\" class=\\\"ace\\\" name=\\\"form-field-radio-update-user\\\" [value]=\\\"true\\\" [(ngModel)]=\\\"currentRole\\\">\\n          <span class=\\\"lbl\\\">\\n            {{ 'user-management.manager' | translate }}\\n          </span>\\n        </label>\\n      </div>\\n      <!-- Choose staff -->\\n      <div class=\\\"radio\\\">\\n        <label>\\n          <input type=\\\"radio\\\" class=\\\"ace\\\" name=\\\"form-field-radio-update-user\\\" [value]=\\\"false\\\" [(ngModel)]=\\\"currentRole\\\">\\n          <span class=\\\"lbl\\\">\\n            {{ 'user-management.staff' | translate }}\\n          </span>\\n        </label>\\n      </div>\\n\\n    </div>\\n\\n  </modal-body>\\n  <modal-footer>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"modal.dismiss()\\\">{{ 'Products.Modal.Cancel' | translate }}</button>\\n    <button class=\\\"btn btn-primary add-product\\\" (click)=\\\"updateUser(updateForm.value)\\\" [disabled]=\\\"updateForm.invalid\\\">{{ 'modal.update-btn' | translate }}</button>\\n  </modal-footer>\\n</modal>\\n\\n<modal #modalConfirm>\\n  <modal-header [show-close]=\\\"true\\\">\\n    <h4 class=\\\"modal-title\\\">{{ 'modal.confirm_remove_account' | translate }}</h4>\\n  </modal-header>\\n  <modal-footer>\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" (click)=\\\"modal.dismiss()\\\">{{ 'button.cancel' | translate }}</button>\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"removeAccount()\\\">{{ 'button.delete' | translate  }}</button>\\n  </modal-footer>\\n</modal>\\n\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index/index.component.html\n// module id = ../../../../../src/app/users/index/index.component.html\n// module chunks = users.module","import { Component, OnInit, ViewChild } from '@angular/core';\nimport {\n  FormControl,\n  FormGroup,\n  Validators,\n  FormBuilder,\n  AbstractControl\n} from '@angular/forms';\nimport { ToastrService } from \"../../shared/toastr.service\";\n\nimport { ModalComponent }       from 'ng2-bs3-modal/ng2-bs3-modal';\nimport { getLangUrl }           from '../../shared/get_url_lang';\nimport { Subject } from \"rxjs/Subject\";\nimport { Observable } from \"rxjs/Observable\";\nimport \"rxjs/add/operator/map\";\n\nimport { User, UsersService }   from '../';\n\nimport * as _ from 'lodash';\n\n@Component({\n  selector: \"users-index\",\n  templateUrl: \"./index.component.html\",\n  styleUrls: [\"./index.component.css\"]\n})\nexport class IndexComponent implements OnInit {\n  @ViewChild(\"modal\") modal: ModalComponent;\n  @ViewChild(\"modalUpdate\") modalUpdate: ModalComponent;\n  @ViewChild(\"modalConfirm\") modalConfirm: ModalComponent;\n\n  dtOptions: DataTables.Settings = {};\n  dtTrigger: Subject<any> = new Subject();\n  getUsers$: any;\n  users: User[] = [];\n  form: FormGroup;\n  updateForm: FormGroup;\n  role = false;\n  currentRole = false;\n  selectedId: string;\n  showAlert = false;\n  emailJustAdded = \"\";\n  passwordJustAdded = \"\";\n  remove_user_id: string;\n\n  constructor(\n    private usersService: UsersService,\n    private fb: FormBuilder,\n    private toastSvc: ToastrService\n  ) {}\n\n  ngOnInit() {\n    this.dtOptions = {\n      pagingType: \"full_numbers\",\n      language: {\n        url: getLangUrl()\n      }\n    };\n    this.getUsers();\n    this.buildForm();\n  }\n\n  getUsers() {\n    this.getUsers$ = this.usersService.getUsers();\n    this.getUsers$.subscribe(users => {\n      this.users = users;\n      this.dtTrigger.next();\n    });\n  }\n\n  addUser(value: any) {\n    console.log(this.role);\n    const signUpData = {\n      email: value.email,\n      name: value.name,\n      password: value.password,\n      password_confirmation: value.password_confirmation,\n      role: this.role ? \"manager\" : \"staff\"\n    };\n\n    this.usersService.addUser(signUpData).subscribe(user => {\n      this.users.push(user);\n      this.modal.close();\n      this.emailJustAdded = value.email;\n      this.passwordJustAdded = value.password;\n      this.showAlert = true;\n      this.form.reset();\n    });\n  }\n\n  buildForm() {\n    this.form = this.fb.group(\n      {\n        email: [\n          \"\",\n          Validators.compose([Validators.email]),\n          this.validateEmailNotTaken.bind(this)\n        ],\n        name: [\"\", Validators.required],\n        password: [\n          \"\",\n          Validators.compose([Validators.required, Validators.minLength(8)])\n        ],\n        password_confirmation: [\"\", Validators.required],\n        role: [false]\n      },\n      { validator: this.passwordConfirming }\n    );\n\n    this.updateForm = this.fb.group({\n      name: [\"\", Validators.required]\n    });\n  }\n\n  selectUpdate(id: string) {\n    let userSelected: User = this.users.find(user => user.id === id);\n    this.updateForm.setValue({\n      name: userSelected.name\n    });\n    this.selectedId = userSelected.id;\n    this.currentRole = userSelected.role === \"manager\";\n    this.modalUpdate.open();\n  }\n\n  updateUser(value: any) {\n    let data = {\n      id: this.selectedId,\n      name: value.name,\n      role: this.currentRole ? \"manager\" : \"staff\"\n    };\n\n    this.usersService.updateUser(data).subscribe(data => {\n      _.assign(this.users.find(user => user.id === data.id), data);\n      this.modalUpdate.close();\n    });\n  }\n\n  openModalRemoveAccount(user_id: string) {\n    this.remove_user_id = user_id;\n    this.modalConfirm.open();\n  }\n\n  removeAccount() {\n    this.modalConfirm.close();\n    this.usersService.removeUser(this.remove_user_id).subscribe(() => {\n      this.users.find(user => user.id === this.remove_user_id).active = false;\n      this.toastSvc.SetMessageSuccess(\"Success\");\n    });\n  }\n\n  reactiveAccount(id: string) {\n    this.usersService.removeUser(id).subscribe(() => {\n      this.users.find(user => user.id === id).active = true;\n      this.toastSvc.SetMessageSuccess(\"Success\");\n    });\n  }\n\n  // Validate form\n\n  passwordConfirming(c: AbstractControl) {\n    if (c.get(\"password\").value !== c.get(\"password_confirmation\").value) {\n      return { passwordShouldBeMatched: true };\n    }\n    return null;\n  }\n\n  validateEmailNotTaken(control: AbstractControl) {\n    return this.getUsers$\n      .map(users => users.filter(user => user.email === control.value))\n      .map(users => !users.length)\n      .map(res => {\n        return res ? null : { emailTaken: true };\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/index/index.component.ts","export class User {\n  constructor(\n    public id: string,\n    public email: string,\n    public name: string,\n    public role: string,\n  ) {\n\n  }\n\n  public active: boolean;\n\n  public isManager(): boolean {\n    return this.role === 'manager';\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/user.model.ts","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { IndexComponent } from './index/index.component';\n\nimport { UsersRoutes } from './users.routing';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SharedModule,\n    RouterModule.forChild(UsersRoutes),\n    ReactiveFormsModule,\n    FormsModule,\n  ],\n  declarations: [IndexComponent]\n})\nexport class UsersModule { }\n\n\n\n// WEBPACK FOOTER //\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/users.module.ts","import { Routes } from '@angular/router';\n\nimport { IndexComponent } from './index/index.component';\n\nexport const UsersRoutes: Routes = [\n  {\n    path: '',\n    component: IndexComponent\n  }\n];\n\n\n\n// WEBPACK FOOTER //\n// /media/viethoc/New Volume/novastudio/Raan/fesm/src/app/users/users.routing.ts"],"sourceRoot":"webpack:///"}